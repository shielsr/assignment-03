{% extends "base.html" %}

{% block main %}
<div class="title-block">
  <h1>My account</h1>
</div>
<div class="card narrow-card mb-4">
  <div class="card-body">
    <h5 class="card-title">My details</h3>

      <table class="table w-auto table-hover">
        <thead>

        </thead>
        <tbody>
          <tr>
            <th scope="row">Your name:</th>
            <td>{{ session.username }}</td>
          </tr>
          <tr>
            <th scope="row">Promotion company:</th>
            <td>{{ user_datastore.get(session.username, {}).get('promoter') }}</td>
            <!-- user_datastore has a dict within a dict -->
          </tr>
        </tbody>
      </table>
  </div>
</div>

<div class="card narrow-card">
  <div class="card-body">
    <h5 class="card-title">Edit promotion company</h3>
      <form action="{{ url_for('update_promoter') }}" method="POST">
        <p class="card-text">If you now work for a different promoter, you can change it here.</p>
        <div class="form-group">
          <label for="update_promoter">Change promoter:</label>
          <select name="update_promoter" class="form-select" required>
            <option selected>Select a promoter</option>
            <option value="Live Nation">Live Nation</option>
            <option value="MCD Productions">MCD Productions</option>
            <option value="AEG Live">AEG Live</option>
            <option value="Aiken Promotions">Aiken Promotions</option>
            <option value="Music World">Music World</option>
          </select>
        </div>
        <button type="submit" class="btn btn-primary">Change promoter</button>
  </div>
</div>

</form>

{% endblock %}